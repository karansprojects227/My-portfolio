<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chhkaran.com</title>
    
    <!--- Tailwind CSS --->
    
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!--- Internal CSS --->
    
    <style>
    canvas{
      display:block;
    }
    .main{
      background:url('https://img.freepik.com/free-photo/galactic-night-sky-astronomy-science-combined-generative-ai_188544-9656.jpg?t=st=1743595063~exp=1743598663~hmac=2e7c6204e10461a2f34fbe937a37413f4909182310f4ca7c13a31f2937e4fd6a&w=1380');
      background-size:100% 100%;
      background-position:center;
    }
    .locator{
      rotate:-138deg;
    }
    </style>
    
</head>
<body>
  
  <!---- Start Coding... ---->
  
  <!--- portol Effect --->
  
  <div class="portol-box w-screen h-screen bg-black overflow-hidden hidden">
    <div class="portol w-full h-full">
      <img class="w-full h-full object-cover rounded-full" src="https://img.freepik.com/premium-photo/purple-purple-tunnel-with-purple-spiral-design-it_1281604-6714.jpg?ga=GA1.1.309439307.1742758679&semt=ais_hybrid"
      alt="Subbu">
    </div>
  </div>
  
  <!--- main conatiner --->
    
  <div class="main w-screen h-screen overflow-hidden relative">
    
    <!--- Access Ganted Or Not --->
    
    <div>
      <div>
        <h1 class="access absolute text-green-500 text-4xl top-12 w-screen text-center hidden">Access Granted !</h1>
      </div>
      <div>
        <h1 class="portol-text absolute text-green-500 text-4xl top-20 w-screen text-center hidden">Main Portol Opening ...</h1>
      </div>
      <div>
        <h1 class="finding-icon absolute text-red-500 text-4xl top-12 w-screen text-center">Please Wait...</h1>
        <h1 class="finding-icon absolute text-red-500 text-4xl top-20 w-screen text-center"> Loaction is tracking...</h1>
        
      </div>
    </div>
    
    <!--- Tracker & Locator --->
    
    <div>
      
    </div>
    
  </div>
  
  <!---- End Coding... ---->
  
  <!--- GSAP JS File Link --->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  
  <!---- Start Scripting ---->
  
    <script type="module">
      
      window.onload = function() {
          // ✅ Call Functions after full page load
          create3DEarth();
          animateTracker();
          animateFindingIcon();
        };
      
      //---- Three.js Module CDN
      import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.module.js';

      // ✅ Global Variables
      let isRotating = true;
      let camera;

      // 🔵 3D Earth Function
      function create3DEarth() {
            // ✅ Scene Setup
            const scene = new THREE.Scene();
            
            // ✅ Camera Setup
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 3.25;

            // ✅ Renderer Setup
            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.querySelector(".main").appendChild(renderer.domElement);

            // ✅ Earth Geometry & Material
            const geometry = new THREE.SphereGeometry(1, 130, 130);
            const textureLoader = new THREE.TextureLoader();
            const earthTexture = textureLoader.load('https://threejs.org/examples/textures/land_ocean_ice_cloud_2048.jpg');

            const material = new THREE.MeshBasicMaterial({ map: earthTexture });
            const earth = new THREE.Mesh(geometry, material);
            scene.add(earth);

            // ✅ Light Setup
            const light = new THREE.DirectionalLight(0xffffff, 1);
            light.position.set(2, 2, 5);
            scene.add(light);

            // ✅ Animation Loop
            function animate() {
                requestAnimationFrame(animate);
                if (isRotating) {
                    earth.rotation.y += 0.02;
                    earth.rotation.x += 0.02;
                }
                renderer.render(scene, camera);
            }
            animate();
        }
        
      // 🔵 2️⃣ Tracker Animation Function (Up & Down Motion)
      function animateTracker() {
        let tl = gsap.timeline();
        tl.to(".tracker", {
          y: -10,
          duration: 1,
          ease: "power4.inOut",
          repeat: -1,
          yoyo:true
        });
      }
      
      // 🔵 3️⃣ Finding Icon Animation (Fade Effect)
      function animateFindingIcon() {
  const animation = gsap.to(".finding-icon", {
    opacity: 0,
    duration: 1.5,
    ease: "power2.inOut",
    repeat: -1,
    yoyo:true
  });

  // ✅ 6 sec ke baad elements ka transition aur rotation stop
  setTimeout(() => {
    // ✅ Finding Icon Hide
    gsap.to(".finding-icon", {
      opacity: 0,
      duration: 0.3,
      ease: "power2.inOut",
      yoyo:true,
      onComplete: function () {
        gsap.set(".finding-icon", { display: "none" });
      }
    });

    // ✅ Access Granted Message Show
    gsap.to(".access", {
      onComplete: function () {
        gsap.set(".access", {
          display: "block",
          text: "Access Granted !",
          duration: 1.5,
          ease: "power3.out",
          yoyo:true
        });
      }
    });

    // ✅ Portal Text Show
    gsap.to(".portol-text", {
      onComplete: function () {
        gsap.set(".portol-text", {
          display: "block",
          text: "Main Portal Opening ...",
          duration: 1.5,
          ease: "power3.out",
          yoyo:true
        });
      }
    });

    // ✅ Tracker Hide
    gsap.to(".tracker", {
      yoyo:true,
      onComplete: function () {
        gsap.set(".tracker", { display: "none", ease: "power2.inOut" });
      }
    });

    // ✅ Locator Show
    gsap.to(".locator", {
      yoyo:true,
      onComplete: function () {
        gsap.set(".locator", { display: "block", ease: "power2.inOut" });
      }
    });

    // ✅ 1 sec ke baad elements hide aur camera zoom-in effect
    setTimeout(() => {
      gsap.to(".access", {
        yoyo:true,
        onComplete: function () {
          gsap.set(".access", { display: "none", duration: 1.5, ease: "power3.out" });
        }
      });

      gsap.to(".portol-text", {
        yoyo:true,
        onComplete: function () {
          gsap.set(".portol-text", { display: "none", duration: 1.5, ease: "power3.out" });
        }
      });

      gsap.to(".locator", {
        yoyo:true,
        onComplete: function () {
          gsap.set(".locator", { display: "none", ease: "power2.inOut" });
        }
      });

      isRotating = false; // ✅ Rotation Stop
      
      // ✅ Camera Zoom-in Animation
      gsap.to(camera.position, {
        z: 1.099, // ✅ Camera move karega Earth ke andar
        duration: 1.5,
        ease: "power2.inOut",
        onComplete: function () {
          // ✅ Earth Hide
          gsap.set(".main", {
            display: "none",
            ease: "power2.inOut" });
          
          gsap.to(".portol-box",{
            display:"block"
          });
          
          gsap.to(".portol",{
            backgroundColor:"black",
            scale:.1,
            ease:"power2.out"
          });
          
          gsap.to(".portol",{
            rotate:-720,
            scale:30,
            duration:2,
            ease:"power2.out",
            onComplete:function(){
              window.location.href = "home.html";
            }
          });
          
          }
      });

    }, 1000); // ✅ 1 sec ke delay ke baad
  }, 6000); // ✅ 6 sec ke delay ke baad
}
        
    </script>
    
    <!---- End Scripting ---->
    
</body>
</html>